{
    "sourceFile": "project/src/components/Signup.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1740223646118,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1740223737239,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n \r\n       if (response.ok) {\r\n         localStorage.setItem(\"token\", json.authtoken);\r\n         setMessage(\"Signup successful! Redirecting...\");\r\n-        setTimeout(() => navigate(\"/\"), 1000);\r\n+        setTimeout(() => navigate(\"/\"), 2000);\r\n       } else {\r\n         setMessage(json.error || \"Signup failed. Please try again.\");\r\n       }\r\n     } catch (err) {\r\n"
                }
            ],
            "date": 1740223646118,
            "name": "Commit-0",
            "content": "import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Signup = () => {\r\n  const [user, setUser] = useState({ name: \"\", email: \"\", password: \"\" });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\"); // State for success/error message\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage(\"\");\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:4000/api/auth/signup\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(user),\r\n      });\r\n\r\n      const json = await response.json();\r\n      setLoading(false);\r\n\r\n      if (response.ok) {\r\n        localStorage.setItem(\"token\", json.authtoken);\r\n        setMessage(\"Signup successful! Redirecting...\");\r\n        setTimeout(() => navigate(\"/\"), 1000);\r\n      } else {\r\n        setMessage(json.error || \"Signup failed. Please try again.\");\r\n      }\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setMessage(\"An error occurred. Please try again later.\");\r\n      console.error(\"Signup error:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container my-3\">\r\n      {message && (\r\n        <div\r\n          className={`alert ${\r\n            message.includes(\"successful\") ? \"alert-success\" : \"alert-danger\"\r\n          }`}\r\n        >\r\n          {message}\r\n        </div>\r\n      )}\r\n      <h2>Signup</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"name\" className=\"form-label\">\r\n            Name\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"name\"\r\n            name=\"name\"\r\n            value={user.name}\r\n            onChange={(e) =>\r\n              setUser({ ...user, [e.target.name]: e.target.value })\r\n            }\r\n            required\r\n            minLength={5}\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"email\" className=\"form-label\">\r\n            Email\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            value={user.email}\r\n            onChange={(e) =>\r\n              setUser({ ...user, [e.target.name]: e.target.value })\r\n            }\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"password\" className=\"form-label\">\r\n            Password\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            value={user.password}\r\n            onChange={(e) =>\r\n              setUser({ ...user, [e.target.name]: e.target.value })\r\n            }\r\n            required\r\n            minLength={8}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\r\n          {loading ? \"Signing up...\" : \"Submit\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n"
        }
    ]
}